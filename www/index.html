<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>RC Controller</title>
  <style type="text/css">#left-cross,#right-cross{border:1px solid #000;position:absolute;bottom:10px;left:10px}#right-cross{right:10px;left:auto}</style></head>
  <body>
  <script type="text/javascript">!function(t){function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}var e={};n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=25)}([function(t,n,e){t.exports=!e(5)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,n){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,n,e){"use strict";n.__esModule=!0,n.default=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n,e){"use strict";n.__esModule=!0;var o=e(12),r=function(t){return t&&t.__esModule?t:{default:t}}(o);n.default=function(){function t(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),(0,r.default)(t,o.key,o)}}return function(n,e,o){return e&&t(n.prototype,e),o&&t(n,o),n}}()},function(t,n){var e=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=e)},function(t,n){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,n){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,n,e){var o=e(15),r=e(20),i=e(22),c=Object.defineProperty;n.f=e(0)?Object.defineProperty:function(t,n,e){if(o(t),n=i(n,!0),o(e),r)try{return c(t,n,e)}catch(t){}if("get"in e||"set"in e)throw TypeError("Accessors not supported!");return"value"in e&&(t[n]=e.value),t}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e(10),r=e(11),i=e(24),c=e.n(i),u=new o.a(document,c.a),a=new r.a(u);u.print(),a.add_listeners()},function(t,n){},function(t,n,e){"use strict";var o=e(2),r=e.n(o),i=e(3),c=e.n(i),u=function(){function t(n,e){r()(this,t),this.config=e,this.document=n,this.canvas_objects=null}return c()(t,[{key:"print",value:function(){var t,n;this.is_controls_in_page()||this.append_controls_to_page();for(t in this.canvas_objects)this.canvas_objects.hasOwnProperty(t)&&(n=this.canvas_objects[t],n.width=this.config.axis_size,n.height=this.config.axis_size,this.clear_canvas(n))}},{key:"get_control_point_size",value:function(){return this.config.control_point_size}},{key:"get_canvas_objects",value:function(){if(!this.is_controls_in_page())throw"Chces canvas, ale oni jeste nejsou na strance";return this.canvas_objects}},{key:"append_controls_to_page",value:function(){var t=document.createElement("div");t.id=this.config.controls_id,this.canvas_objects=this.create_canvas_objects(this.document),t.appendChild(this.canvas_objects[this.config.lc_id]),t.appendChild(this.canvas_objects[this.config.rc_id]),this.document.body.appendChild(t)}},{key:"is_controls_in_page",value:function(){var t=!1;return document.getElementById([this.config.controls_id])&&(t=!0),t}},{key:"create_canvas_objects",value:function(t){var n={};return n[this.config.lc_id]=t.createElement("canvas"),n[this.config.rc_id]=t.createElement("canvas"),n[this.config.lc_id].id=this.config.lc_id,n[this.config.rc_id].id=this.config.rc_id,n}},{key:"draw_control_point",value:function(t,n){var e=n.getContext("2d");this.clear_canvas(n),e.fillStyle=this.config.control_point_style,e.fillRect(t.x-this.get_control_point_size()/2,t.y-this.get_control_point_size()/2,this.get_control_point_size(),this.get_control_point_size())}},{key:"clear_canvas",value:function(t){var n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),n.fillStyle=this.config.axis_style,n.fillRect(this.config.axis_size/2,0,1,t.height),n.fillRect(0,this.config.axis_size/2,t.width,1)}}]),t}();n.a=u},function(t,n,e){"use strict";var o=e(2),r=e.n(o),i=e(3),c=e.n(i),u=function(){function t(n){r()(this,t),this.printer=n}return c()(t,[{key:"add_listeners",value:function(){var t,n=this.printer.get_canvas_objects();for(t in n)n.hasOwnProperty(t)&&(this.add_touchstart(n[t]),this.add_touchmove(n[t]))}},{key:"add_touchstart",value:function(t){var n=this;t.addEventListener("touchstart",function(e){e.preventDefault();var o=n.get_touch_for_canvas(t,e.changedTouches),r=n.get_touch_coords(t,o);n.printer.draw_control_point(r,t)},!1)}},{key:"add_touchmove",value:function(t){var n=this;t.addEventListener("touchmove",function(e){e.preventDefault();var o=n.get_touch_for_canvas(t,e.changedTouches),r=n.get_touch_coords(t,o);n.printer.draw_control_point(r,t)},!1)}},{key:"get_touch_for_canvas",value:function(t,n){var e,o=n[0];for(e=1;e<n.length;e+=1)if(t.id===n[e].target.id){o=n[e];break}return o}},{key:"get_touch_coords",value:function(t,n){var e={x:n.pageX-t.offsetLeft,y:n.pageY-t.offsetTop};return this.get_coords_in_limits(t,e)}},{key:"get_coords_in_limits",value:function(t,n){var e;for(e in n)n.hasOwnProperty(e)&&(n=this.get_coord_in_limits(t,n,e));return n}},{key:"get_coord_in_limits",value:function(t,n,e){var o={x:"width",y:"height"},r=this.printer.get_control_point_size()/2;return n[e]<r?n[e]=r:n[e]>t[o[e]]-r&&(n[e]=t[o[e]]-r),n}}]),t}();n.a=u},function(t,n,e){t.exports={default:e(13),__esModule:!0}},function(t,n,e){e(23);var o=e(4).Object;t.exports=function(t,n,e){return o.defineProperty(t,n,e)}},function(t,n){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,n,e){var o=e(1);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,n,e){var o=e(14);t.exports=function(t,n,e){if(o(t),void 0===n)return t;switch(e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,o){return t.call(n,e,o)};case 3:return function(e,o,r){return t.call(n,e,o,r)}}return function(){return t.apply(n,arguments)}}},function(t,n,e){var o=e(1),r=e(6).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,n,e){var o=e(6),r=e(4),i=e(16),c=e(19),u=function(t,n,e){var a,s,f,l=t&u.F,_=t&u.G,p=t&u.S,h=t&u.P,d=t&u.B,v=t&u.W,g=_?r:r[n]||(r[n]={}),y=g.prototype,b=_?o:p?o[n]:(o[n]||{}).prototype;_&&(e=n);for(a in e)(s=!l&&b&&void 0!==b[a])&&a in g||(f=s?b[a]:e[a],g[a]=_&&"function"!=typeof b[a]?e[a]:d&&s?i(f,o):v&&b[a]==f?function(t){var n=function(n,e,o){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(n);case 2:return new t(n,e)}return new t(n,e,o)}return t.apply(this,arguments)};return n.prototype=t.prototype,n}(f):h&&"function"==typeof f?i(Function.call,f):f,h&&((g.virtual||(g.virtual={}))[a]=f,t&u.R&&y&&!y[a]&&c(y,a,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,n,e){var o=e(7),r=e(21);t.exports=e(0)?function(t,n,e){return o.f(t,n,r(1,e))}:function(t,n,e){return t[n]=e,t}},function(t,n,e){t.exports=!e(0)&&!e(5)(function(){return 7!=Object.defineProperty(e(17)("div"),"a",{get:function(){return 7}}).a})},function(t,n){t.exports=function(t,n){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:n}}},function(t,n,e){var o=e(1);t.exports=function(t,n){if(!o(t))return t;var e,r;if(n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;if("function"==typeof(e=t.valueOf)&&!o(r=e.call(t)))return r;if(!n&&"function"==typeof(e=t.toString)&&!o(r=e.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,n,e){var o=e(18);o(o.S+o.F*!e(0),"Object",{defineProperty:e(7).f})},function(t,n){t.exports={app_name:"RC Controller",controls_id:"controls",lc_id:"left-cross",rc_id:"right-cross",axis_size:180,axis_style:"lightgray",control_point_style:"black",control_point_size:10}},function(t,n,e){e(8),t.exports=e(9)}]);</script></body>
</html>